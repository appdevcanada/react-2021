{"version":3,"sources":["context/FavContext.js","components/Nav/Nav.js","components/Header/Header.js","components/SearchBar/SearchBar.js","components/Home/Home.js","components/Sub/Sub.js","components/Main/Main.js","components/App/App.js","index.js","components/Spinner/Spinner.js"],"names":["FavContext","createContext","FavProvider","props","useState","type","id","data","fav","setFav","Provider","value","useFav","context","useContext","Error","Nav","className","to","isActive","Header","company","SearchBar","inputSearch","createRef","btnSearch","btnState","keyword","onSubmit","ev","preventDefault","saveSearch","current","ref","name","placeholder","disabled","Home","time","active","setSearchState","nms","Array","isArray","join","useEffect","Date","toLocaleTimeString","children","Sub","defaultProps","now","Main","home","Films","lazy","People","Planets","pathname","useLocation","films","setFilms","people","setPeople","planets","setPlanets","a","url","trim","axios","get","then","resp","results","catch","console","error","path","element","fallback","Spinner","list","exact","App","setKeyword","setDisabled","state","createRoot","document","getElementById","render","StrictMode"],"mappings":"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","file":"static/js/main.5a85341a.chunk.js","sourcesContent":["import { useState, useContext, createContext } from 'react';\n\nconst FavContext = createContext();\n\nfunction FavProvider(props) {\n  const shape = {\n    type: '',\n    id: 0,\n    data: {}\n  }\n  const [fav, setFav] = useState(shape);\n\n  function updateFav(type, id, data) {\n    setFav({\n      type,\n      id,\n      data\n    });\n  }\n\n  return <FavContext.Provider value={[fav, updateFav]} {...props} />\n}\n\nfunction useFav() {\n  const context = useContext(FavContext);\n  if (!context) throw new Error('No context available!');\n\n  return context;\n}\n\nexport { FavProvider, useFav };","// import Link from '../Link/Link';\nimport { NavLink } from 'react-router-dom';\nimport './nav.css';\n\nexport default function Nav(props) {\n  return (\n    <nav className=\"mainnav\">\n      <NavLink to=\"/films\" className={({ isActive }) => isActive ? \"activeLink\" : \"\"}>\n        Films\n      </NavLink>\n      <NavLink to=\"/people\" className={({ isActive }) => isActive ? \"activeLink\" : \"\"}>\n        People\n      </NavLink>\n      <NavLink to=\"/planets\" className={({ isActive }) => isActive ? \"activeLink\" : \"\"}>\n        Planets\n      </NavLink>\n    </nav>\n  );\n}\n","import \"./header.css\";\nimport Nav from \"../Nav/Nav\";\nimport { Link } from \"react-router-dom\";\n\nexport default function Header(props) {\n  return (\n    <header className=\"masthead\">\n      <h1>\n        <Link to=\"/react-2021\">{props.company}</Link>\n      </h1>\n      <Nav />\n    </header>\n  );\n}\n","import './searchbar.css';\nimport { createRef } from 'react';\n\nexport default function SearchBar(props) {\n  let inputSearch = createRef();\n  let btnSearch = createRef();\n  const {btnState, keyword} = props;\n\n  function submitted(ev) {\n    ev.preventDefault();\n    props.saveSearch(inputSearch.current.value);\n    inputSearch.current.value = \"\";\n  }\n\n  return (\n    <section className=\"searchBar\">\n      <form onSubmit={submitted}>\n        <input\n          ref={inputSearch}\n          type=\"text\"\n          name=\"keyword\"\n          className=\"searchText\"\n          placeholder=\"keyword\"\n          disabled={btnState}\n        />\n        <button\n          ref={btnSearch}\n          type=\"submit\"\n          className=\"searchBtn\"\n          name=\"searchBtn\"\n          disabled={btnState}>\n          Search\n        </button>\n      </form>\n      {keyword && <p className=\"margin-0\">You searched for <strong>{keyword}</strong></p>}\n    </section>\n  );\n}\n","import { PropTypes } from 'prop-types';\nimport { useEffect } from 'react';\n\nexport default function Home(props) {\n  const { name, time, active, setSearchState } = props;\n\n  let nms = Array.isArray(name) ? name.join(' and ') : name;\n\n  useEffect(() => {\n    setSearchState(true);\n  })\n\n  return (\n    <div>\n      <h2>Welcome {nms} to the Home page</h2>\n      <p>The time is {new Date(time).toLocaleTimeString()}</p>\n      <p>The component is {active ? 'active' : 'NOT active'}</p>\n      {props.children}\n    </div>\n  );\n}\nHome.defaultProps = {\n  time: Date.now(),\n};\nHome.propTypes = {\n  name: PropTypes.oneOfType([PropTypes.string, PropTypes.array]).isRequired,\n  time: PropTypes.number,\n  active: PropTypes.bool.isRequired,\n  children: PropTypes.arrayOf(PropTypes.element).isRequired,\n};\n","export default function Sub() {\n  return (\n    <section>\n      <p>Just a section to insert inside Home.</p>\n    </section>\n  );\n}\n","import \"./main.css\";\nimport Home from \"../Home/Home\";\nimport Sub from \"../Sub/Sub\";\nimport { Route, Routes, useLocation } from \"react-router-dom\";\nimport { useEffect, useState, lazy, Suspense } from \"react\";\nimport axios from \"axios\";\nimport Spinner from \"../Spinner/Spinner\";\n\nexport default function Main(props) {\n  const home = \"/react-2021\";\n  const Films = lazy(() => import(\"../Films/Films\"));\n  const People = lazy(() => import(\"../People/People\"));\n  const Planets = lazy(() => import(\"../Planets/Planets\"));\n  const { keyword, setSearchState } = props;\n  const { pathname } = useLocation();\n  const [films, setFilms] = useState([]);\n  const [people, setPeople] = useState([]);\n  const [planets, setPlanets] = useState([]);\n\n  useEffect(() => {\n    (async function () {\n      if (pathname !== home) {\n        let url = `https://swapi.dev/api${pathname}`;\n\n        if (keyword.trim() !== \"\") {\n          url += `?search=${keyword}`;\n        }\n\n        axios\n          .get(url)\n          .then((resp) => {\n            let data = resp.data;\n            switch (pathname) {\n              case \"/films\":\n                setFilms(data.results);\n                break;\n\n              case \"/people\":\n                setPeople(data.results);\n                break;\n\n              case \"/planets\":\n                setPlanets(data.results);\n                break;\n\n              default:\n                break;\n            }\n          })\n          .catch(console.error);\n      }\n    })();\n  }, [keyword, pathname]);\n\n  return (\n    <div className=\"mainContent\">\n      <Routes>\n        <Route\n          path=\"/films/*\"\n          element={\n            <Suspense fallback={<Spinner>Loading Films</Spinner>}>\n              <Films list={films} setSearchState={setSearchState} />\n            </Suspense>\n          }\n        />\n        <Route\n          path=\"/people/*\"\n          element={\n            <Suspense fallback={<Spinner>Loading People</Spinner>}>\n              <People list={people} setSearchState={setSearchState} />\n            </Suspense>\n          }\n        />\n        <Route\n          path=\"/planets/*\"\n          element={\n            <Suspense fallback={<Spinner>Loading Planets</Spinner>}>\n              <Planets list={planets} setSearchState={setSearchState} />\n            </Suspense>\n          }\n        />\n\n        <Route\n          exact\n          path={home}\n          element={\n            <Home\n              name={[\"C-3PO\", \"R2-D2\"]}\n              active={true}\n              time={new Date() - 50000000}\n              setSearchState={setSearchState}\n            >\n              <Sub />\n              <Sub />\n            </Home>\n          }\n        />\n      </Routes>\n    </div>\n  );\n}\n","import './App.css';\nimport { useState } from 'react';\nimport { BrowserRouter as Router } from 'react-router-dom';\nimport Header from '../Header/Header';\nimport SearchBar from '../SearchBar/SearchBar';\nimport Main from '../Main/Main';\nimport { FavProvider } from '../../context/FavContext';\n\nexport default function App(props) {\n  const name = 'Star Wars API';\n  const [keyword, setKeyword] = useState(\"\");\n  const [disabled, setDisabled] = useState(true);\n\n  function saveSearch(keyword) {\n    setKeyword(keyword);\n  }\n\n  function setSearchState(state) {\n    setDisabled(state);\n  }\n\n  return (\n    <FavProvider>\n      <div className=\"App\">\n        <Router>\n          <Header company={name} />\n          <SearchBar keyword={keyword} saveSearch={saveSearch} btnState={disabled} />\n\n          <main className=\"content\">\n            <Main keyword={keyword} setSearchState={setSearchState} />\n          </main>\n        </Router>\n      </div>\n    </FavProvider>\n  );\n}\n","import React from 'react';\nimport { createRoot } from 'react-dom/client';\nimport './index.css';\nimport App from './components/App/App';\n\nconst root = createRoot(\n  document.getElementById('root')\n);\nroot.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>\n);\n","import \"./spinner.css\";\n\nexport default function Spinner(props) {\n  return (\n    <div className=\"overlay\">\n      <div className=\"spinner\">{props.children}</div>\n    </div>\n  );\n}\n"],"sourceRoot":""}