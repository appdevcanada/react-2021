(this["webpackJsonpswapi-project"]=this["webpackJsonpswapi-project"]||[]).push([[0],{14:function(e,t,c){"use strict";c.d(t,"a",(function(){return o})),c.d(t,"b",(function(){return l}));var n=c(27),a=c(3),r=c(0);function s(e,t){var c=Object(r.useState)((function(){return function(e,t){if("undefined"!==typeof window){var c=localStorage.getItem(e);return JSON.parse(c)||t}}(e,t)})),n=Object(a.a)(c,2),s=n[0],i=n[1];return Object(r.useEffect)((function(){localStorage.setItem(e,JSON.stringify(s))}),[s,e]),[s,i]}var i=c(1),j=Object(r.createContext)();function o(e){var t={type:"",id:0,data:{}},c=s("FavFilm",t),r=Object(a.a)(c,2),o=r[0],l=r[1],b=s("FavPerson",t),u=Object(a.a)(b,2),d=u[0],O=u[1],h=s("FavPlanet",t),f=Object(a.a)(h,2),p=f[0],x=f[1];return Object(i.jsx)(j.Provider,Object(n.a)({value:[o,d,p,function(e,t,c){switch(e){case"films":l({type:e,id:t,data:c});break;case"people":O({type:e,id:t,data:c});break;case"planets":x({type:e,id:t,data:c})}}]},e))}function l(){var e=Object(r.useContext)(j);if(!e)throw new Error("No context available!");return e}},35:function(e,t,c){},36:function(e,t,c){},37:function(e,t,c){},38:function(e,t,c){},40:function(e,t,c){},42:function(e,t,c){},65:function(e,t,c){},66:function(e,t,c){"use strict";c.r(t);var n=c(0),a=c.n(n),r=c(25),s=(c(35),c(3)),i=(c(36),c(6)),j=(c(37),c(38),c(1));function o(e){return Object(j.jsxs)("nav",{className:"mainnav",children:[Object(j.jsx)(i.c,{to:"/films",className:function(e){return e.isActive?"activeLink":""},children:"Films"}),Object(j.jsx)(i.c,{to:"/people",className:function(e){return e.isActive?"activeLink":""},children:"People"}),Object(j.jsx)(i.c,{to:"/planets",className:function(e){return e.isActive?"activeLink":""},children:"Planets"})]})}function l(e){return Object(j.jsxs)("header",{className:"masthead",children:[Object(j.jsx)("h1",{children:Object(j.jsx)(i.b,{to:"/react-2021",children:e.company})}),Object(j.jsx)(o,{})]})}c(40);function b(e){var t=Object(n.createRef)(),c=Object(n.createRef)(),a=e.btnState,r=e.keyword;return Object(j.jsxs)("section",{className:"searchBar",children:[Object(j.jsxs)("form",{onSubmit:function(c){c.preventDefault(),e.saveSearch(t.current.value),t.current.value=""},children:[Object(j.jsx)("input",{ref:t,type:"text",name:"keyword",className:"searchText",placeholder:"keyword",disabled:a}),Object(j.jsx)("button",{ref:c,type:"submit",className:"searchBtn",name:"searchBtn",disabled:a,children:"Search"})]}),r&&Object(j.jsxs)("p",{className:"margin-0",children:["You searched for ",Object(j.jsx)("strong",{children:r})]})]})}var u=c(12),d=c.n(u),O=c(26);c(42);function h(e){var t=e.name,c=e.time,a=e.active,r=e.setSearchState,s=Array.isArray(t)?t.join(" and "):t;return Object(n.useEffect)((function(){r(!0)})),Object(j.jsxs)("div",{children:[Object(j.jsxs)("h2",{children:["Welcome ",s," to the Home page"]}),Object(j.jsxs)("p",{children:["The time is ",new Date(c).toLocaleTimeString()]}),Object(j.jsxs)("p",{children:["The component is ",a?"active":"NOT active"]}),e.children]})}function f(){return Object(j.jsx)("section",{children:Object(j.jsx)("p",{children:"Just a section to insert inside Home."})})}h.defaultProps={time:Date.now()};var p=c(13),x=c.n(p);function m(e){var t=Object(n.useState)([]),c=Object(s.a)(t,2),a=c[0],r=c[1],i=Object(n.useState)(""),j=Object(s.a)(i,2),o=j[0],l=j[1];return x.a.defaults.baseURL="https://swapi.dev/api",Object(n.useEffect)((function(){x.a.get(e,{params:{search:o},timeout:4e3}).then((function(e){r(e.data.results)})).catch(console.error)}),[e,r,o]),[a,l]}var v=c(2);c(65);function S(e){return Object(j.jsx)("div",{className:"overlay",children:Object(j.jsx)("div",{className:"spinner",children:e.children})})}function k(e){var t="/react-2021",a=Object(n.lazy)((function(){return c.e(3).then(c.bind(null,73))})),r=Object(n.lazy)((function(){return c.e(4).then(c.bind(null,74))})),i=Object(n.lazy)((function(){return c.e(5).then(c.bind(null,75))})),o=e.keyword,l=e.setSearchState,b=Object(v.e)().pathname,u=m("films"),p=Object(s.a)(u,2),x=p[0],k=p[1],y=m("people"),w=Object(s.a)(y,2),N=w[0],g=w[1],D=m("planets"),L=Object(s.a)(D,2),P=L[0],A=L[1];return Object(n.useEffect)((function(){Object(O.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(b===t){e.next=11;break}e.t0=b,e.next="/films"===e.t0?4:"/people"===e.t0?6:"/planets"===e.t0?8:10;break;case 4:return k(o),e.abrupt("break",11);case 6:return g(o),e.abrupt("break",11);case 8:return A(o),e.abrupt("break",11);case 10:return e.abrupt("break",11);case 11:case"end":return e.stop()}}),e)})))()}),[o,b,k,g,A]),Object(j.jsx)("div",{className:"mainContent",children:Object(j.jsxs)(v.c,{children:[Object(j.jsx)(v.a,{path:"/films/*",element:Object(j.jsx)(n.Suspense,{fallback:Object(j.jsx)(S,{children:"Loading Data"}),children:Object(j.jsx)(a,{list:x,setSearchState:l})})}),Object(j.jsx)(v.a,{path:"/people/*",element:Object(j.jsx)(n.Suspense,{fallback:Object(j.jsx)(S,{children:"Loading Data"}),children:Object(j.jsx)(r,{list:N,setSearchState:l})})}),Object(j.jsx)(v.a,{path:"/planets/*",element:Object(j.jsx)(n.Suspense,{fallback:Object(j.jsx)(S,{children:"Loading Data"}),children:Object(j.jsx)(i,{list:P,setSearchState:l})})}),Object(j.jsx)(v.a,{exact:!0,path:t,element:Object(j.jsxs)(h,{name:["C-3PO","R2-D2"],active:!0,time:new Date-5e7,setSearchState:l,children:[Object(j.jsx)(f,{}),Object(j.jsx)(f,{})]})})]})})}var y=c(14);function w(e){var t=Object(n.useState)(""),c=Object(s.a)(t,2),a=c[0],r=c[1],o=Object(n.useState)(!0),u=Object(s.a)(o,2),d=u[0],O=u[1];return Object(j.jsx)(y.a,{children:Object(j.jsx)("div",{className:"App",children:Object(j.jsxs)(i.a,{children:[Object(j.jsx)(l,{company:"Star Wars API"}),Object(j.jsx)(b,{keyword:a,saveSearch:function(e){r(e)},btnState:d}),Object(j.jsx)("main",{className:"content",children:Object(j.jsx)(k,{keyword:a,setSearchState:function(e){O(e)}})})]})})})}Object(r.createRoot)(document.getElementById("root")).render(Object(j.jsx)(a.a.StrictMode,{children:Object(j.jsx)(w,{})}))}},[[66,1,2]]]);
//# sourceMappingURL=main.52846eb7.chunk.js.map