(this["webpackJsonpswapi-project"]=this["webpackJsonpswapi-project"]||[]).push([[0],{13:function(e,t,c){"use strict";c.d(t,"a",(function(){return l})),c.d(t,"b",(function(){return o}));var a=c(25),n=c(3),s=c(0);function r(e,t){var c=Object(s.useState)((function(){return function(e,t){if("undefined"!==typeof window){var c=localStorage.getItem(e);return JSON.parse(c)||t}}(e,t)})),a=Object(n.a)(c,2),r=a[0],i=a[1];return Object(s.useEffect)((function(){localStorage.setItem(e,JSON.stringify(r))}),[r,e]),[r,i]}var i=c(1),j=Object(s.createContext)();function l(e){var t={type:"",id:0,data:{}},c=r("FavFilm",t),s=Object(n.a)(c,2),l=s[0],o=s[1],b=r("FavPerson",t),u=Object(n.a)(b,2),O=u[0],d=u[1],h=r("FavPlanet",t),f=Object(n.a)(h,2),p=f[0],x=f[1],m=r("FavStarship",t),v=Object(n.a)(m,2),S=v[0],y=v[1];return Object(i.jsx)(j.Provider,Object(a.a)({value:[l,O,p,S,function(e,t,c){switch(e){case"films":o({type:e,id:t,data:c});break;case"people":d({type:e,id:t,data:c});break;case"planets":x({type:e,id:t,data:c});break;case"starships":y({type:e,id:t,data:c})}}]},e))}function o(){var e=Object(s.useContext)(j);if(!e)throw new Error("No context available!");return e}},33:function(e,t,c){},34:function(e,t,c){},35:function(e,t,c){},36:function(e,t,c){},38:function(e,t,c){},39:function(e,t,c){},62:function(e,t,c){},63:function(e,t,c){"use strict";c.r(t);var a=c(0),n=c.n(a),s=c(24),r=c(6),i=(c(33),c(3)),j=(c(34),c(2)),l=(c(35),c(36),c(1));function o(e){return Object(l.jsxs)("nav",{className:"mainnav",children:[Object(l.jsx)(r.c,{to:"/films",className:function(e){return e.isActive?"activeLink":""},children:"Films"}),Object(l.jsx)(r.c,{to:"/people",className:function(e){return e.isActive?"activeLink":""},children:"People"}),Object(l.jsx)(r.c,{to:"/planets",className:function(e){return e.isActive?"activeLink":""},children:"Planets"}),Object(l.jsx)(r.c,{to:"/starships",className:function(e){return e.isActive?"activeLink":""},children:"Starships"})]})}function b(e){return Object(l.jsxs)("header",{className:"masthead",children:[Object(l.jsx)("h1",{children:Object(l.jsx)(r.b,{to:"/react-2021",children:e.company})}),Object(l.jsx)(o,{})]})}c(38);function u(e){var t=Object(a.createRef)(),c=Object(a.createRef)(),n=Object(j.f)(),s=e.btnState,r=e.keyword,i=e.category;return Object(l.jsxs)("section",{className:"searchBar",children:[Object(l.jsxs)("form",{onSubmit:function(e){e.preventDefault(),n("/".concat(i,"?search=").concat(t.current.value)),t.current.value=""},children:[Object(l.jsx)("input",{ref:t,type:"text",name:"keyword",className:"searchText",placeholder:"keyword",disabled:s}),Object(l.jsx)("button",{ref:c,type:"submit",className:"searchBtn",name:"searchBtn",disabled:s,children:"Search"})]}),r&&Object(l.jsxs)("p",{className:"margin-0",children:["You searched for ",Object(l.jsx)("strong",{children:r})]})]})}c(39);function O(e){var t=e.name,c=e.time,n=e.active,s=e.setSearchState,r=Array.isArray(t)?t.join(" and "):t;return Object(a.useEffect)((function(){s(!0)})),Object(l.jsxs)("div",{children:[Object(l.jsxs)("h2",{children:["Welcome ",r," to the Home page"]}),Object(l.jsxs)("p",{children:["The time is ",new Date(c).toLocaleTimeString()]}),Object(l.jsxs)("p",{children:["The component is ",n?"active":"NOT active"]}),e.children]})}function d(){return Object(l.jsx)("section",{children:Object(l.jsx)("p",{children:"Just a section to insert inside Home."})})}O.defaultProps={time:Date.now()};var h=c(10),f=c.n(h);function p(e){var t=Object(a.useState)([]),c=Object(i.a)(t,2),n=c[0],s=c[1],r=Object(a.useState)(""),j=Object(i.a)(r,2),l=j[0],o=j[1];return f.a.defaults.baseURL="https://swapi.dev/api",Object(a.useEffect)((function(){var t=new AbortController;return f.a.get(e,{params:{search:l},timeout:4e3}).then((function(e){s(e.data.results)})).catch((function(e){f.a.isCancel(e)?console.warn("API Call canceled"):console.log(e.message)})),function(){t.abort()}}),[e,s,l]),[n,o]}c(62);function x(e){return Object(l.jsx)("div",{className:"overlay",children:Object(l.jsx)("div",{className:"spinner",children:e.children})})}function m(e){var t="/react-2021",n=Object(a.lazy)((function(){return c.e(3).then(c.bind(null,72))})),s=Object(a.lazy)((function(){return c.e(4).then(c.bind(null,73))})),r=Object(a.lazy)((function(){return c.e(5).then(c.bind(null,74))})),o=Object(a.lazy)((function(){return c.e(6).then(c.bind(null,75))})),b=e.keyword,u=e.setSearchState,h=e.category,f=p("films"),m=Object(i.a)(f,2),v=m[0],S=m[1],y=p("people"),w=Object(i.a)(y,2),k=w[0],g=w[1],N=p("planets"),A=Object(i.a)(N,2),L=A[0],D=A[1],P=p("starships"),C=Object(i.a)(P,2),E=C[0],F=C[1];return Object(a.useEffect)((function(){if(h!==t)switch(h){case"films":S(b);break;case"people":g(b);break;case"planets":D(b);break;case"starships":F(b)}window.scrollTo(0,0)}),[h,b,S,g,D,F]),Object(l.jsx)("div",{className:"mainContent",children:Object(l.jsxs)(j.c,{children:[Object(l.jsx)(j.a,{path:"/films/*",element:Object(l.jsx)(a.Suspense,{fallback:Object(l.jsx)(x,{children:"Loading Data"}),children:Object(l.jsx)(n,{list:v,setSearchState:u})})}),Object(l.jsx)(j.a,{path:"/people/*",element:Object(l.jsx)(a.Suspense,{fallback:Object(l.jsx)(x,{children:"Loading Data"}),children:Object(l.jsx)(s,{list:k,setSearchState:u})})}),Object(l.jsx)(j.a,{path:"/planets/*",element:Object(l.jsx)(a.Suspense,{fallback:Object(l.jsx)(x,{children:"Loading Data"}),children:Object(l.jsx)(r,{list:L,setSearchState:u})})}),Object(l.jsx)(j.a,{path:"/starships/*",element:Object(l.jsx)(a.Suspense,{fallback:Object(l.jsx)(x,{children:"Loading Data"}),children:Object(l.jsx)(o,{list:E,setSearchState:u})})}),Object(l.jsx)(j.a,{exact:!0,path:t,element:Object(l.jsxs)(O,{name:["C-3PO","R2-D2"],active:!0,time:new Date-5e7,setSearchState:u,children:[Object(l.jsx)(d,{}),Object(l.jsx)(d,{})]})})]})})}var v=c(13);function S(e){var t=Object(a.useState)(""),c=Object(i.a)(t,2),n=c[0],s=c[1],r=Object(j.e)(),o=r.pathname,O=r.search,d=o.split("/"),h=Object(i.a)(d,3),f=h[1],p=h[2],x=Object(a.useState)(f),S=Object(i.a)(x,2),y=S[0],w=S[1],k=Object(a.useState)(!0),g=Object(i.a)(k,2),N=g[0],A=g[1];return Object(a.useEffect)((function(){if(y===f)if(O){var e=O.replace("?search=","");s(e)}else p||s("");else s(""),w(f)}),[f,O,p,y]),Object(l.jsx)(v.a,{children:Object(l.jsxs)("div",{className:"App",children:[Object(l.jsx)(b,{company:"Star Wars API"}),Object(l.jsx)(u,{keyword:n,category:f,btnState:N}),Object(l.jsx)("main",{className:"content",children:Object(l.jsx)(m,{keyword:n,setSearchState:function(e){A(e)},category:f})})]})})}Object(s.createRoot)(document.getElementById("root")).render(Object(l.jsx)(n.a.StrictMode,{children:Object(l.jsx)(r.a,{children:Object(l.jsx)(S,{})})}))}},[[63,1,2]]]);
//# sourceMappingURL=main.8ce95375.chunk.js.map