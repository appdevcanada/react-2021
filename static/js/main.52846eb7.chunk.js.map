{"version":3,"sources":["hooks/useLocalStorage.js","context/FavContext.js","components/Nav/Nav.js","components/Header/Header.js","components/SearchBar/SearchBar.js","components/Home/Home.js","components/Sub/Sub.js","hooks/useStarWars.js","components/Spinner/Spinner.js","components/Main/Main.js","components/App/App.js","index.js"],"names":["useLocalStorage","key","initial","useState","defaultValue","window","saved","localStorage","getItem","JSON","parse","getStorageValue","val","setVal","useEffect","setItem","stringify","FavContext","createContext","FavProvider","props","shape","type","id","data","favFilm","setFavFilm","favPerson","setFavPerson","favPlanet","setFavPlanet","Provider","value","useFav","context","useContext","Error","Nav","className","to","isActive","Header","company","SearchBar","inputSearch","createRef","btnSearch","btnState","keyword","onSubmit","ev","preventDefault","saveSearch","current","ref","name","placeholder","disabled","Home","time","active","setSearchState","nms","Array","isArray","join","Date","toLocaleTimeString","children","Sub","defaultProps","now","useStarWars","category","list","setList","setKeyword","axios","defaults","baseURL","get","params","search","timeout","then","response","results","catch","console","error","Spinner","Main","home","Films","lazy","People","Planets","pathname","useLocation","films","setFilms","people","setPeople","planets","setPlanets","a","path","element","fallback","exact","App","setDisabled","state","createRoot","document","getElementById","render","StrictMode"],"mappings":"mNAYe,SAASA,EAAgBC,EAAKC,GAAU,IAAD,EAC9BC,oBAAS,WAC7B,OAXJ,SAAyBF,EAAKG,GAE5B,GAAsB,qBAAXC,OAAwB,CACjC,IAAMC,EAAQC,aAAaC,QAAQP,GAEnC,OADgBQ,KAAKC,MAAMJ,IACTF,GAMXO,CAAgBV,EAAKC,MAFsB,mBAC7CU,EAD6C,KACxCC,EADwC,KASpD,OAJAC,qBAAU,WACRP,aAAaQ,QAAQd,EAAKQ,KAAKO,UAAUJ,MACxC,CAACA,EAAKX,IAEF,CAACW,EAAKC,G,WClBTI,EAAaC,0BAEnB,SAASC,EAAYC,GACnB,IAAMC,EAAQ,CACZC,KAAM,GACNC,GAAI,EACJC,KAAM,IAJkB,EAMIxB,EAAgB,UAAWqB,GAN/B,mBAMnBI,EANmB,KAMVC,EANU,OAOQ1B,EAAgB,YAAaqB,GAPrC,mBAOnBM,EAPmB,KAORC,EAPQ,OAQQ5B,EAAgB,YAAaqB,GARrC,mBAQnBQ,EARmB,KAQRC,EARQ,KAyC1B,OACE,cAACb,EAAWc,SAAZ,aACEC,MAAO,CAACP,EAASE,EAAWE,EAjChC,SAAmBP,EAAMC,EAAIC,GAC3B,OAAQF,GACN,IAAK,QACHI,EAAW,CACTJ,OACAC,KACAC,SAEF,MAEF,IAAK,SACHI,EAAa,CACXN,OACAC,KACAC,SAEF,MAEF,IAAK,UACHM,EAAa,CACXR,OACAC,KACAC,aAYAJ,IAKV,SAASa,IACP,IAAMC,EAAUC,qBAAWlB,GAC3B,IAAKiB,EAAS,MAAM,IAAIE,MAAM,yBAE9B,OAAOF,I,yQCtDM,SAASG,EAAIjB,GAC1B,OACE,sBAAKkB,UAAU,UAAf,UACE,cAAC,IAAD,CAASC,GAAG,SAASD,UAAW,qBAAGE,SAA0B,aAAe,IAA5E,mBAGA,cAAC,IAAD,CAASD,GAAG,UAAUD,UAAW,qBAAGE,SAA0B,aAAe,IAA7E,oBAGA,cAAC,IAAD,CAASD,GAAG,WAAWD,UAAW,qBAAGE,SAA0B,aAAe,IAA9E,wBCTS,SAASC,EAAOrB,GAC7B,OACE,yBAAQkB,UAAU,WAAlB,UACE,6BACE,cAAC,IAAD,CAAMC,GAAG,cAAT,SAAwBnB,EAAMsB,YAEhC,cAACL,EAAD,O,MCPS,SAASM,EAAUvB,GAChC,IAAIwB,EAAcC,sBACdC,EAAYD,sBACTE,EAAqB3B,EAArB2B,SAAUC,EAAW5B,EAAX4B,QAQjB,OACE,0BAASV,UAAU,YAAnB,UACE,uBAAMW,SARV,SAAmBC,GACjBA,EAAGC,iBACH/B,EAAMgC,WAAWR,EAAYS,QAAQrB,OACrCY,EAAYS,QAAQrB,MAAQ,IAK1B,UACE,uBACEsB,IAAKV,EACLtB,KAAK,OACLiC,KAAK,UACLjB,UAAU,aACVkB,YAAY,UACZC,SAAUV,IAEZ,wBACEO,IAAKR,EACLxB,KAAK,SACLgB,UAAU,YACViB,KAAK,YACLE,SAAUV,EALZ,uBASDC,GAAW,oBAAGV,UAAU,WAAb,8BAAyC,iCAASU,U,mCC/BrD,SAASU,EAAKtC,GAAQ,IAC3BmC,EAAuCnC,EAAvCmC,KAAMI,EAAiCvC,EAAjCuC,KAAMC,EAA2BxC,EAA3BwC,OAAQC,EAAmBzC,EAAnByC,eAExBC,EAAMC,MAAMC,QAAQT,GAAQA,EAAKU,KAAK,SAAWV,EAMrD,OAJAzC,qBAAU,WACR+C,GAAe,MAIf,gCACE,0CAAaC,EAAb,uBACA,6CAAgB,IAAII,KAAKP,GAAMQ,wBAC/B,kDAAqBP,EAAS,SAAW,gBACxCxC,EAAMgD,YCjBE,SAASC,IACtB,OACE,kCACE,wEDkBNX,EAAKY,aAAe,CAClBX,KAAMO,KAAKK,O,qBEnBE,SAASC,EAAYC,GAAW,IAAD,EACpBtE,mBAAS,IADW,mBACrCuE,EADqC,KAC/BC,EAD+B,OAEdxE,mBAAS,IAFK,mBAErC6C,EAFqC,KAE5B4B,EAF4B,KAe5C,OAXAC,IAAMC,SAASC,QAAU,wBAEzBjE,qBAAU,WACR+D,IACGG,IAAIP,EAAU,CAAEQ,OAAQ,CAAEC,OAAQlC,GAAWmC,QAAS,MACtDC,MAAK,SAACC,GACLV,EAAQU,EAAS7D,KAAK8D,YAEvBC,MAAMC,QAAQC,SAChB,CAAChB,EAAUE,EAAS3B,IAEhB,CAAC0B,EAAME,G,iBChBD,SAASc,EAAQtE,GAC9B,OACE,qBAAKkB,UAAU,UAAf,SACE,qBAAKA,UAAU,UAAf,SAA0BlB,EAAMgD,aCGvB,SAASuB,EAAKvE,GAC3B,IAAMwE,EAAO,cACPC,EAAQC,gBAAK,kBAAM,gCACnBC,EAASD,gBAAK,kBAAM,gCACpBE,EAAUF,gBAAK,kBAAM,gCACnB9C,EAA4B5B,EAA5B4B,QAASa,EAAmBzC,EAAnByC,eACToC,EAAaC,cAAbD,SAN0B,EAORzB,EAAY,SAPJ,mBAO3B2B,EAP2B,KAOpBC,EAPoB,OAQN5B,EAAY,UARN,mBAQ3B6B,EAR2B,KAQnBC,EARmB,OASJ9B,EAAY,WATR,mBAS3B+B,EAT2B,KASlBC,EATkB,KAkClC,OAvBA1F,qBAAU,WACR,sBAAC,sBAAA2F,EAAA,yDACKR,IAAaL,EADlB,sBAEWK,EAFX,OAGU,WAHV,OAOU,YAPV,OAWU,aAXV,8BAIOG,EAASpD,GAJhB,mCAQOsD,EAAUtD,GARjB,mCAYOwD,EAAWxD,GAZlB,oGAAD,KAoBC,CAACA,EAASiD,EAAUG,EAAUE,EAAWE,IAG1C,qBAAKlE,UAAU,cAAf,SACE,eAAC,IAAD,WACE,cAAC,IAAD,CACEoE,KAAK,WACLC,QACE,cAAC,WAAD,CAAUC,SAAU,cAAClB,EAAD,2BAApB,SACE,cAACG,EAAD,CAAOnB,KAAMyB,EAAOtC,eAAgBA,QAI1C,cAAC,IAAD,CACE6C,KAAK,YACLC,QACE,cAAC,WAAD,CAAUC,SAAU,cAAClB,EAAD,2BAApB,SACE,cAACK,EAAD,CAAQrB,KAAM2B,EAAQxC,eAAgBA,QAI5C,cAAC,IAAD,CACE6C,KAAK,aACLC,QACE,cAAC,WAAD,CAAUC,SAAU,cAAClB,EAAD,2BAApB,SACE,cAACM,EAAD,CAAStB,KAAM6B,EAAS1C,eAAgBA,QAK9C,cAAC,IAAD,CACEgD,OAAK,EACLH,KAAMd,EACNe,QACE,eAACjD,EAAD,CACEH,KAAM,CAAC,QAAS,SAChBK,QAAQ,EACRD,KAAM,IAAIO,KAAS,IACnBL,eAAgBA,EAJlB,UAME,cAACQ,EAAD,IACA,cAACA,EAAD,c,YCzEC,SAASyC,EAAI1F,GAC1B,IADiC,EAEHjB,mBAAS,IAFN,mBAE1B6C,EAF0B,KAEjB4B,EAFiB,OAGDzE,oBAAS,GAHR,mBAG1BsD,EAH0B,KAGhBsD,EAHgB,KAajC,OACE,cAAC,IAAD,UACE,qBAAKzE,UAAU,MAAf,SACE,eAAC,IAAD,WACE,cAACG,EAAD,CAAQC,QAhBH,kBAiBL,cAACC,EAAD,CAAWK,QAASA,EAASI,WAbrC,SAAoBJ,GAClB4B,EAAW5B,IAYgDD,SAAUU,IAE/D,sBAAMnB,UAAU,UAAhB,SACE,cAACqD,EAAD,CAAM3C,QAASA,EAASa,eAZlC,SAAwBmD,GACtBD,EAAYC,eCbHC,qBACXC,SAASC,eAAe,SAErBC,OACH,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,S","file":"static/js/main.52846eb7.chunk.js","sourcesContent":["//custom hook for localStorage\nimport { useState, useEffect } from \"react\";\n\nfunction getStorageValue(key, defaultValue) {\n  // getting stored value if exists and client side\n  if (typeof window !== \"undefined\") {\n    const saved = localStorage.getItem(key);\n    const initial = JSON.parse(saved);\n    return initial || defaultValue;\n  }\n}\n\nexport default function useLocalStorage(key, initial) {\n  const [val, setVal] = useState(() => {\n    return getStorageValue(key, initial);\n  });\n\n  useEffect(() => {\n    localStorage.setItem(key, JSON.stringify(val));\n  }, [val, key]);\n\n  return [val, setVal];\n}\n","import { useContext, createContext } from \"react\";\nimport useLocalStorage from \"../hooks/useLocalStorage\";\n\nconst FavContext = createContext();\n\nfunction FavProvider(props) {\n  const shape = {\n    type: \"\",\n    id: 0,\n    data: {},\n  };\n  const [favFilm, setFavFilm] = useLocalStorage(\"FavFilm\", shape);\n  const [favPerson, setFavPerson] = useLocalStorage(\"FavPerson\", shape);\n  const [favPlanet, setFavPlanet] = useLocalStorage(\"FavPlanet\", shape);\n\n  function updateFav(type, id, data) {\n    switch (type) {\n      case \"films\":\n        setFavFilm({\n          type,\n          id,\n          data,\n        });\n        break;\n\n      case \"people\":\n        setFavPerson({\n          type,\n          id,\n          data,\n        });\n        break;\n\n      case \"planets\":\n        setFavPlanet({\n          type,\n          id,\n          data,\n        });\n        break;\n\n      default:\n        break;\n    }\n  }\n\n  return (\n    <FavContext.Provider\n      value={[favFilm, favPerson, favPlanet, updateFav]}\n      {...props}\n    />\n  );\n}\n\nfunction useFav() {\n  const context = useContext(FavContext);\n  if (!context) throw new Error(\"No context available!\");\n\n  return context;\n}\n\nexport { FavProvider, useFav };\n","// import Link from '../Link/Link';\nimport { NavLink } from 'react-router-dom';\nimport './nav.css';\n\nexport default function Nav(props) {\n  return (\n    <nav className=\"mainnav\">\n      <NavLink to=\"/films\" className={({ isActive }) => isActive ? \"activeLink\" : \"\"}>\n        Films\n      </NavLink>\n      <NavLink to=\"/people\" className={({ isActive }) => isActive ? \"activeLink\" : \"\"}>\n        People\n      </NavLink>\n      <NavLink to=\"/planets\" className={({ isActive }) => isActive ? \"activeLink\" : \"\"}>\n        Planets\n      </NavLink>\n    </nav>\n  );\n}\n","import \"./header.css\";\nimport Nav from \"../Nav/Nav\";\nimport { Link } from \"react-router-dom\";\n\nexport default function Header(props) {\n  return (\n    <header className=\"masthead\">\n      <h1>\n        <Link to=\"/react-2021\">{props.company}</Link>\n      </h1>\n      <Nav />\n    </header>\n  );\n}\n","import './searchbar.css';\nimport { createRef } from 'react';\n\nexport default function SearchBar(props) {\n  let inputSearch = createRef();\n  let btnSearch = createRef();\n  const {btnState, keyword} = props;\n\n  function submitted(ev) {\n    ev.preventDefault();\n    props.saveSearch(inputSearch.current.value);\n    inputSearch.current.value = \"\";\n  }\n\n  return (\n    <section className=\"searchBar\">\n      <form onSubmit={submitted}>\n        <input\n          ref={inputSearch}\n          type=\"text\"\n          name=\"keyword\"\n          className=\"searchText\"\n          placeholder=\"keyword\"\n          disabled={btnState}\n        />\n        <button\n          ref={btnSearch}\n          type=\"submit\"\n          className=\"searchBtn\"\n          name=\"searchBtn\"\n          disabled={btnState}>\n          Search\n        </button>\n      </form>\n      {keyword && <p className=\"margin-0\">You searched for <strong>{keyword}</strong></p>}\n    </section>\n  );\n}\n","import { PropTypes } from 'prop-types';\nimport { useEffect } from 'react';\n\nexport default function Home(props) {\n  const { name, time, active, setSearchState } = props;\n\n  let nms = Array.isArray(name) ? name.join(' and ') : name;\n\n  useEffect(() => {\n    setSearchState(true);\n  })\n\n  return (\n    <div>\n      <h2>Welcome {nms} to the Home page</h2>\n      <p>The time is {new Date(time).toLocaleTimeString()}</p>\n      <p>The component is {active ? 'active' : 'NOT active'}</p>\n      {props.children}\n    </div>\n  );\n}\nHome.defaultProps = {\n  time: Date.now(),\n};\nHome.propTypes = {\n  name: PropTypes.oneOfType([PropTypes.string, PropTypes.array]).isRequired,\n  time: PropTypes.number,\n  active: PropTypes.bool.isRequired,\n  children: PropTypes.arrayOf(PropTypes.element).isRequired,\n};\n","export default function Sub() {\n  return (\n    <section>\n      <p>Just a section to insert inside Home.</p>\n    </section>\n  );\n}\n","import { useState, useEffect } from \"react\";\nimport axios from \"axios\";\n\nexport default function useStarWars(category) {\n  const [list, setList] = useState([]);\n  const [keyword, setKeyword] = useState(\"\");\n\n  axios.defaults.baseURL = \"https://swapi.dev/api\";\n\n  useEffect(() => {\n    axios\n      .get(category, { params: { search: keyword }, timeout: 4000 })\n      .then((response) => {\n        setList(response.data.results);\n      })\n      .catch(console.error);\n  }, [category, setList, keyword]);\n\n  return [list, setKeyword];\n}\n","import \"./spinner.css\";\n\nexport default function Spinner(props) {\n  return (\n    <div className=\"overlay\">\n      <div className=\"spinner\">{props.children}</div>\n    </div>\n  );\n}\n","import \"./main.css\";\nimport Home from \"../Home/Home\";\nimport Sub from \"../Sub/Sub\";\nimport useStarWars from \"../../hooks/useStarWars\";\nimport { Route, Routes, useLocation } from \"react-router-dom\";\nimport { useEffect, lazy, Suspense } from \"react\";\nimport Spinner from \"../Spinner/Spinner\";\n\nexport default function Main(props) {\n  const home = \"/react-2021\";\n  const Films = lazy(() => import(\"../Films/Films\"));\n  const People = lazy(() => import(\"../People/People\"));\n  const Planets = lazy(() => import(\"../Planets/Planets\"));\n  const { keyword, setSearchState } = props;\n  const { pathname } = useLocation();\n  const [films, setFilms] = useStarWars(\"films\");\n  const [people, setPeople] = useStarWars(\"people\");\n  const [planets, setPlanets] = useStarWars(\"planets\");\n\n  useEffect(() => {\n    (async function () {\n      if (pathname !== home) {\n        switch (pathname) {\n          case \"/films\":\n            setFilms(keyword);\n            break;\n\n          case \"/people\":\n            setPeople(keyword);\n            break;\n\n          case \"/planets\":\n            setPlanets(keyword);\n            break;\n\n          default:\n            break;\n        }\n      }\n    })();\n  }, [keyword, pathname, setFilms, setPeople, setPlanets]);\n\n  return (\n    <div className=\"mainContent\">\n      <Routes>\n        <Route\n          path=\"/films/*\"\n          element={\n            <Suspense fallback={<Spinner>Loading Data</Spinner>}>\n              <Films list={films} setSearchState={setSearchState} />\n            </Suspense>\n          }\n        />\n        <Route\n          path=\"/people/*\"\n          element={\n            <Suspense fallback={<Spinner>Loading Data</Spinner>}>\n              <People list={people} setSearchState={setSearchState} />\n            </Suspense>\n          }\n        />\n        <Route\n          path=\"/planets/*\"\n          element={\n            <Suspense fallback={<Spinner>Loading Data</Spinner>}>\n              <Planets list={planets} setSearchState={setSearchState} />\n            </Suspense>\n          }\n        />\n\n        <Route\n          exact\n          path={home}\n          element={\n            <Home\n              name={[\"C-3PO\", \"R2-D2\"]}\n              active={true}\n              time={new Date() - 50000000}\n              setSearchState={setSearchState}\n            >\n              <Sub />\n              <Sub />\n            </Home>\n          }\n        />\n      </Routes>\n    </div>\n  );\n}\n","import './App.css';\nimport { useState } from 'react';\nimport { BrowserRouter as Router } from 'react-router-dom';\nimport Header from '../Header/Header';\nimport SearchBar from '../SearchBar/SearchBar';\nimport Main from '../Main/Main';\nimport { FavProvider } from '../../context/FavContext';\n\nexport default function App(props) {\n  const name = 'Star Wars API';\n  const [keyword, setKeyword] = useState(\"\");\n  const [disabled, setDisabled] = useState(true);\n\n  function saveSearch(keyword) {\n    setKeyword(keyword);\n  }\n\n  function setSearchState(state) {\n    setDisabled(state);\n  }\n\n  return (\n    <FavProvider>\n      <div className=\"App\">\n        <Router>\n          <Header company={name} />\n          <SearchBar keyword={keyword} saveSearch={saveSearch} btnState={disabled} />\n\n          <main className=\"content\">\n            <Main keyword={keyword} setSearchState={setSearchState} />\n          </main>\n        </Router>\n      </div>\n    </FavProvider>\n  );\n}\n","import React from 'react';\nimport { createRoot } from 'react-dom/client';\nimport './index.css';\nimport App from './components/App/App';\n\nconst root = createRoot(\n  document.getElementById('root')\n);\nroot.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>\n);\n"],"sourceRoot":""}